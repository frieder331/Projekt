<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Tic-Tac-Toe Game</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@3.18.1"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" integrity="sha384-g2eaIN7X6LX1HlWg9iJS6WtqHlfK4LxhLDbPuzwvX7Duj73bF6Fju+qInFnpErFE" crossorigin="anonymous">
<style>
  .game-board {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 1rem;
  }
  .game-cell {
    width: 100px;
    height: 100px;
    border: 2px solid #333;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2rem;
    cursor: pointer;
  }

  .orange{
    background-color: #f60;
  }
  .background-blau{
            background-color: #0066b3;
        }

        .background-weiß{
            background-color: white;
            padding: 10px;
        }

  #circle {
            width: 75px;
            height: 75px;
            background-color: #0066b3; /* Hintergrundfarbe des Kreises */
            border-radius: 50%; /* Runde Ecken für den Kreis */
            overflow: hidden;
            display: inline-block;
        }

        #image {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        body {
            align-items: center;
            justify-content: center;
        }

        #container {
            text-align: center;
        } 

        .bordergameboard{
            border: 5px solid white;
        }
</style>
</head>
<body class="background-blau">

    <div id="container" class="orange">
        <div id="circle">
            <a href="meinprofil.html"><img id="image" src="Baer.jpg" alt="Kreisförmiges Bild"></a>
        </div>
    </div>

<div class="container mx-auto p-4 background-blau">
  <div>
    <a href="index.html">
        <button class="orange text-white font-bold py-2 px-4 rounded">
            Home
        </button>
    </a><br><br>
  </div>
  <div class="game-container ">
    <div id="gameBoard" class="game-board mx-auto mb-4 bg-white rounded-lg shadow-md bordergameboard">
      <!-- Game cells will be generated by JavaScript -->
    </div>
    <div class="text-center background-blau">
      <button id="restartButton" class="orange text-white font-bold py-2 px-4 rounded">
        Restart Game
      </button>
    </div>
  </div>
</div>

<script>
  const gameBoard = document.getElementById('gameBoard');
  const restartButton = document.getElementById('restartButton');
  const player = 'X';
  const cpu = 'O';
  let board = ['', '', '', '', '', '', '', '', ''];

  function checkWin(player) {
    const winConditions = [
      [0, 1, 2],
      [3, 4, 5],
      [6, 7, 8],
      [0, 3, 6],
      [1, 4, 7],
      [2, 5, 8],
      [0, 4, 8],
      [2, 4, 6],
    ];

    return winConditions.some(condition => {
      return condition.every(index => {
        return board[index] === player;
      });
    });
  }

  function checkTie() {
    return board.every(cell => cell !== '');
  }

  function cpuMove() {
    let available = board.map((cell, index) => cell === '' ? index : null).filter(val => val !== null);
    if (available.length === 0) return;
    let move = available[Math.floor(Math.random() * available.length)];
    board[move] = cpu;
    updateBoard();
  }

  function updateBoard() {
    gameBoard.innerHTML = '';
    board.forEach((cell, index) => {
      const cellElement = document.createElement('div');
      cellElement.classList.add('game-cell');
      cellElement.textContent = cell;
      cellElement.addEventListener('click', () => playerMove(index));
      gameBoard.appendChild(cellElement);
    });

    if (checkWin(player)) {
      alert('Player wins!');
      restartGame();
    } else if (checkWin(cpu)) {
      alert('CPU wins!');
      restartGame();
    } else if (checkTie()) {
      alert('Tie game!');
      restartGame();
    }
  }

  function playerMove(index) {
    if (board[index] !== '') return;
    board[index] = player;
    updateBoard();
    if (!checkWin(player) && !checkTie()) {
      cpuMove();
    }
  }

  function restartGame() {
    board = ['', '', '', '', '', '', '', '', ''];
    updateBoard();
  }

  restartButton.addEventListener('click', restartGame);

  // Initialize the game board
  updateBoard();
</script>
</body>
</html>